---
title: Criando Tools
description: Funções que agents, workflows e views usam para tomar ação
icon: Wrench
---

import Callout from "../../../components/ui/Callout.astro";

Tools são funções que executam ações específicas como operações CRUD, busca de dados ou computações. São os "verbos" da sua aplicação de IA.

## Entendendo Tools

Cada tool:
- **Faz uma coisa bem** - Buscar dados, salvar no banco, chamar uma API
- **Tem inputs bem definidos** - Parâmetros que o tool aceita
- **Retorna output estruturado** - Formato de dados previsível
- **Pode ser chamado por** - Agents, workflows, views e outros tools

**De onde vêm os tools:**
- **Integrações** - Instale apps da store (Gmail, Slack, etc.) e seus tools aparecem automaticamente
- **Tools customizados** - Construa os seus via chat para necessidades específicas

<Callout type="tip">
  A maioria dos tools vem de integrações. Primeiro instale apps, depois crie tools customizados apenas para necessidades específicas.
</Callout>

## Criando Tools com Deco Chat

A maneira mais fácil de criar tools é descrevendo o que você precisa:

**Exemplos de prompts:**
```
Preciso de um tool que verifique se um domínio está disponível para compra

Crie um tool para buscar dados meteorológicos de uma determinada cidade

Me ajude a construir um tool que calcule custos de envio baseado em peso e destino

Quero validar endereços de email e verificar se o domínio tem registros MX
```

**O que acontece em seguida:**
1. Deco chat faz perguntas esclarecedoras (Quais inputs? O que deve retornar?)
2. Sugere um schema baseado nas suas necessidades
3. Cria o tool usando `@TOOLS_CREATE`
4. Você testa e itera juntos

**Refine conforme avança:**
```
Adicione validação ao parâmetro de email

Inclua um parâmetro de timeout com padrão de 30 segundos

Altere o output para também retornar o registrador do domínio
```

Esta abordagem conversacional significa que você começa com uma ideia vaga e itera em direção a exatamente o que precisa.

---

<Callout type="info">
  As seções abaixo explicam a mecânica se você quiser entender como tools funcionam.
</Callout>

---

## O Que Acontece Por Baixo dos Panos?

Quando você cria um tool (seja via deco chat ou clicando no ícone de código para escrever TypeScript), estes são os componentes principais sendo definidos:

### 1. Nome do Tool

Tools seguem o padrão `RECURSO_ACAO` com `MAIUSCULAS_COM_UNDERSCORES`:

**Exemplos:**
- `CUSTOMER_FETCH` - Buscar um registro de cliente
- `EMAIL_SEND` - Enviar um email
- `INVOICE_CREATE` - Criar uma fatura

```
Bom: LEAD_QUALIFY, ORDER_TOTAL_CALCULATE
Ruim: qualifyLead, calculate-order-total
```

**Por que isso importa:** Agents usam nomes de tools para decidir quando usá-los. Nomes descritivos = melhores decisões.

### 2. Descrição

Diz aos agents e workflows o que o tool faz e quando usá-lo:
```
Bom: "Qualificar um lead baseado no tamanho da empresa, indústria e orçamento. 
Retorna pontuação 0-100 e tier (A/B/C)."

Ruim: "Qualifica leads"
```

Quanto melhor a descrição, melhor os agents entendem quando usá-lo.

### 3. Input Schema

Define quais parâmetros o tool aceita:
- Campos **obrigatórios** vs **opcionais**
- **Valores padrão** onde faz sentido
- Regras de **validação** (formato de email, URL, intervalos numéricos)
- **Tipos** (string, number, boolean, etc.)

Mantenha simples, se você precisa de 10+ parâmetros, considere quebrar em tools menores.

### 4. Output Schema

Define o que o tool retorna:
- **Estrutura** - Quais campos são retornados
- **Tipos** - Tipos de dados para cada campo
- **Indicador de sucesso/falha**
- **Detalhes de erro** quando falhas ocorrem

Este schema é crítico para:
- **Workflows** - Podem referenciar campos de output específicos em próximos passos
- **Agents** - Sabem quais dados receberam e como usá-los
- **Composabilidade** - Outros tools podem consumir este output

### 5. Lógica do Tool

A implementação real, o que o tool faz:

**Padrões comuns:**
- **Encadear tools existentes** - Compor tools de integrações instaladas
- **Chamadas de API** - Buscar dados de serviços externos
- **Operações de banco de dados** - Consultar ou modificar dados
- **Transformações** - Processar e formatar dados

Quando você pede ao deco chat para criar um tool, ele lida com tudo isso para você. Quando você escreve TypeScript, você define isso explicitamente.

### 6. Testes

Uma vez criado, teste seu tool de duas maneiras:

**Via UI:**
deco CMS gera automaticamente um formulário baseado no seu input schema. Preencha os campos e execute o tool para ver resultados.

**Via chat:**
```
@SEU_TOOL_NAME param1="valor" param2=123
```

Itere até funcionar como esperado.

## Grupos de Tools

Organize tools relacionados para descoberta mais fácil:

**Exemplos:**
- **Gerenciamento de Clientes** - `CUSTOMER_CREATE`, `CUSTOMER_FETCH`, `CUSTOMER_UPDATE`, `CUSTOMER_DELETE`
- **Email** - `EMAIL_SEND`, `EMAIL_VALIDATE`, `EMAIL_TEMPLATE_RENDER`
- **Cobrança** - `INVOICE_CREATE`, `PAYMENT_PROCESS`, `SUBSCRIPTION_UPDATE`

Grupos aparecem como pastas em seletores de tools ao construir agents e workflows.

## Princípios de Composição

### Construa Pequeno, Componha Grande

Não construa tools monolíticos:
```
❌ CUSTOMER_ONBOARD_AND_EMAIL_AND_SYNC

✅ CUSTOMER_CREATE → EMAIL_WELCOME_SEND → CRM_SYNC
   (Três tools simples compostos em um workflow)
```

### Schemas Permitem Automação

Schemas claros de input/output permitem que:
- Agents saibam quando e como usar o tool
- Workflows mapeiem automaticamente dados entre passos
- Views gerem formulários automaticamente
- Erros sejam capturados antes do runtime

<Callout type="warning">
  Tools que deletam dados, cobram pagamentos ou chamam APIs caras devem ter permissões restritas. Configure acesso nas configurações do tool.
</Callout>

---

**Lembre-se:** Comece com integrações, construa tools customizados apenas para necessidades específicas que ainda não existem.
